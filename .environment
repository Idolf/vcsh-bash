# proper man section order for a brogrammer
export MANSECT=2:3:1:4:5:6:7:8:9

# Set up common programs
export PAGER=less
export EDITOR=vim
export BROWSER=chromium-browser
export XDG_RUNTIME_DIR=$HOME/.config/

# Update PATH
export PATH=/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin
for _d in bin .local/bin .cargo/bin; do
  if [ -d $HOME/$_d ]; then
    export PATH=$HOME/$_d:$PATH
  fi
done

for _d in /opt/*/bin; do
  if [ "$d" != "/opt/*/bin" ]; then
    export PATH=$PATH:$_d
  fi
done
unset _d

if [ -d $HOME/ida-6.6 ]; then
  export PATH=$PATH:$HOME/ida-6.6
fi

# Update PYTHONPATH
if [ -d "/opt/z3/py-pkg" ]; then
  if [ "x$PYTHONPATH" = "x" ]; then
    export PYTHONPATH=/opt/z3/py-pkg
  elif ! echo "$PYTHONPATH" | grep -q /opt/z3/py-pkg; then
    export PYTHONPATH=$PYTHONPATH:/opt/z3/py-pkg
  fi
fi

# Add google cloud SDK to the path
if [ -f "$HOME/gcloud/google-cloud-sdk/path.bash.inc" ]; then
  source "$HOME/gcloud/google-cloud-sdk/path.bash.inc"
fi

# Various X stuff
export LC_CTYPE=en_US.UTF-8
export GTK_IM_MODULE=xim
export LESSCHARSET=utf-8
export HS_ENCODING=UTF-8

# Rust stuff
if [ "x$LD_LIBRARY_PATH" = "x" ]; then
  NEW_PATH=
else
  NEW_PATH=:$LD_LIBRARY_PATH
fi
export LD_LIBRARY_PATH=$HOME/.multirust/toolchains/beta/lib$NEW_PATH
